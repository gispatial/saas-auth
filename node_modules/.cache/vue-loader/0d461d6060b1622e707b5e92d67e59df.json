{"remainingRequest":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/crocslut/Desktop/www/latest/auth/xdt-001/src/views/ExternalApi.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/src/views/ExternalApi.vue","mtime":1616655464947},{"path":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/node_modules/cache-loader/dist/cjs.js","mtime":1616393837327},{"path":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/node_modules/babel-loader/lib/index.js","mtime":1616393837315},{"path":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/node_modules/cache-loader/dist/cjs.js","mtime":1616393837327},{"path":"/Users/crocslut/Desktop/www/latest/auth/xdt-001/node_modules/vue-loader/lib/index.js","mtime":1616393857038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNlcnZlclVybCB9IGZyb20gImh0dHBzOi8vc2Fhc2RlbW8teGVuZGl0eS1naXNwYXRpYWwudmVyY2VsLmFwcC8jL3Byb2ZpbGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwaSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFwaU1lc3NhZ2U6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY2FsbEFwaUVuZHBvaW50KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goCiAgICAgICAgICBgJHtzZXJ2ZXJVcmx9L2FwaS9tZXNzYWdlcy9wdWJsaWMtbWVzc2FnZWAsCiAgICAgICAgKTsKCiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB0aGlzLmFwaU1lc3NhZ2UgPSBqc29uLm1lc3NhZ2U7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aGlzLmFwaU1lc3NhZ2UgPSBgRXJyb3I6IHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggJyR7ZS5yZXNwb25zZS5zdGF0dXN9OiAke2UucmVzcG9uc2Uuc3RhdHVzVGV4dH0nYDsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNhbGxBcGlTZWN1cmVkRW5kcG9pbnQoKSB7CiAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KCk7CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goCiAgICAgICAgICBgJHtzZXJ2ZXJVcmx9L2FwaS9tZXNzYWdlcy9wcm90ZWN0ZWQtbWVzc2FnZWAsCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgKTsKCiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB0aGlzLmFwaU1lc3NhZ2UgPSBqc29uLm1lc3NhZ2U7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB0aGlzLmFwaU1lc3NhZ2UgPSBgRXJyb3I6IHRoZSBzZXJ2ZXIgcmVzcG9uZGVkIHdpdGggJyR7ZS5yZXNwb25zZS5zdGF0dXN9OiAke2UucmVzcG9uc2Uuc3RhdHVzVGV4dH0nYDsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ExternalApi.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExternalApi.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1>External API</h1>\n    <p>\n      Please validate your signup by clicking email verification.\n      <strong>You are verified!</strong>.\n    </p>\n    <div\n      class=\"btn-group mt-5\"\n      role=\"group\"\n      aria-label=\"Email Verfication Request\"\n    >\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"callApiEndpoint\">\n        Get Public Message\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn btn-primary\"\n        @click=\"callApiSecuredEndpoint\"\n      >\n        Get Private Message\n      </button>\n    </div>\n\n    <div v-if=\"apiMessage\" class=\"mt-5\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport { serverUrl } from \"https://saasdemo-xendity-gispatial.vercel.app/#/profile\";\nexport default {\n  name: \"Api\",\n  data() {\n    return {\n      apiMessage: null,\n    };\n  },\n  methods: {\n    async callApiEndpoint() {\n      try {\n        const response = await fetch(\n          `${serverUrl}/api/messages/public-message`,\n        );\n\n        const json = await response.json();\n        this.apiMessage = json.message;\n      } catch (e) {\n        this.apiMessage = `Error: the server responded with '${e.response.status}: ${e.response.statusText}'`;\n      }\n    },\n    async callApiSecuredEndpoint() {\n      const accessToken = await this.$auth.getTokenSilently();\n\n      try {\n        const response = await fetch(\n          `${serverUrl}/api/messages/protected-message`,\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          },\n        );\n\n        const json = await response.json();\n        this.apiMessage = json.message;\n      } catch (e) {\n        console.log(e);\n        this.apiMessage = `Error: the server responded with '${e.response.status}: ${e.response.statusText}'`;\n      }\n    },\n  },\n};\n</script>\n"]}]}