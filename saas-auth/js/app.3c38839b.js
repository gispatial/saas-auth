(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$auth.isLoading?n("Loading"):n("div",{staticClass:"d-flex flex-column h-100",attrs:{id:"app"}},[[n("NavBar"),n("div",{staticClass:"container flex-grow-1"},[n("div",{staticClass:"mt-5"},[n("router-view")],1)]),n("Footer")]],2)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-container mb-3"},[n("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light"},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"}),n("MainNav"),n("AuthNav")],1)])])},l=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"navbar-nav mr-auto"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v(" Home")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/profile"}},[t._v("Profile")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{href:"/external-api"}},[t._v(" API Samples ")])],1)])},u=[],p={name:"MainNav"},d=p,h=n("2877"),f=Object(h["a"])(d,c,u,!1,null,null,null),v=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-nav ml-auto"},[n("AuthenticationButton")],1)},g=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$auth.isAuthenticated?n("LogoutButton"):n("LoginButton")],1)},_=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"https://saasdemo-xendity-gispatial.vercel.app/#/auth/login"}},[t._v(" Log In")])},C=[],w={name:"LoginButton",methods:{login:function(){this.$auth.loginWithRedirect()}}},k=w,O=Object(h["a"])(k,x,C,!1,null,null,null),y=O.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$auth.isAuthenticated?n("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v(" Log Out ")]):t._e()},$=[],A={name:"LogoutButton",methods:{logout:function(){this.$auth.logout(),this.$router.push({path:"/"})}}},E=A,R=Object(h["a"])(E,j,$,!1,null,null,null),L=R.exports,P={name:"AuthenticationButton",components:{LogoutButton:L,LoginButton:y}},M=P,S=Object(h["a"])(M,b,_,!1,null,null,null),I=S.exports,B={name:"AuthNav",components:{AuthenticationButton:I}},N=B,U=Object(h["a"])(N,m,g,!1,null,null,null),T=U.exports,H={name:"NavBar",components:{AuthNav:T,MainNav:v}},D=H,J=Object(h["a"])(D,o,l,!1,null,null,null),W=J.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"bg-light p-3 text-center"},[n("div",{}),n("p",[t._v(" Â© 2021. "),n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://xendity.com"}},[t._v(" Xendity ")]),t._v(". All Right Reserved. ")])])}],Y={name:"Footer"},z=Y,G=Object(h["a"])(z,q,F,!1,null,null,null),V=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("img",{attrs:{src:t.loadingImg,alt:"Loading..."}})])},K=[],Q={name:"Loading",data:function(){return{loadingImg:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg"}}},Z=Q,tt=Object(h["a"])(Z,X,K,!1,null,null,null),et=tt.exports,nt={components:{Loading:et,Footer:V,NavBar:W}},at=nt,rt=Object(h["a"])(at,i,s,!1,null,null,null),it=rt.exports,st=n("8c4f"),ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Hero"),n("HomeContent")],1)},lt=[],ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center hero"},[n("img",{attrs:{src:"https://saasdemo.xendity.com/assets/images/xendity-logo.png"}}),n("h1",{staticClass:"mb-4"},[t._v("Verification Link")]),n("p",{staticClass:"lead"},[n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/quickstart/spa/vuejs"}})])])}],pt={name:"Hero",data:function(){return{heroLogo:"http://rizq.cloudns.cl/wp-content/uploads/2021/03/logo-xdt.png"}}},dt=pt,ht=Object(h["a"])(dt,ct,ut,!1,null,null,null),ft=ht.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"next-steps"},[n("center",[n("b",[t._v("Dear User Please Click Authentication below")]),n("br"),n("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://saasdemo.xendity.com/"}},[t._v(" Click link to verify your email! ")])])],1)},mt=[],gt={name:"HomeContent"},bt=gt,_t=Object(h["a"])(bt,vt,mt,!1,null,null,null),xt=_t.exports,Ct={name:"home",components:{Hero:ft,HomeContent:xt}},wt=Ct,kt=Object(h["a"])(wt,ot,lt,!1,null,null,null),Ot=kt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row align-items-center profile-header"},[n("div",{staticClass:"col-md-2 mb-3"},[n("img",{staticClass:"rounded-circle img-fluid profile-picture",attrs:{src:t.$auth.user.picture,alt:"User's profile picture"}})]),n("div",{staticClass:"col-md text-center text-md-left"},[n("h2",[t._v(t._s(t.$auth.user.name))]),n("p",{staticClass:"lead text-muted"},[t._v(t._s(t.$auth.user.email))])])]),n("div",{staticClass:"row"},[n("pre",{staticClass:"col-12 text-light bg-dark p-4"},[t._v(t._s(JSON.stringify(t.$auth.user,null,2)))])])])},jt=[],$t={},At=Object(h["a"])($t,yt,jt,!1,null,null,null),Et=At.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("External API")]),t._m(0),n("div",{staticClass:"btn-group mt-5",attrs:{role:"group","aria-label":"External API Requests Examples"}},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.callApiEndpoint}},[t._v(" Get Public Message ")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.callApiSecuredEndpoint}},[t._v(" Get Private Message ")])]),t.apiMessage?n("div",{staticClass:"mt-5"}):t._e()])},Lt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(" You use will use a button to call an external API using an access token, and the API will validate it using the API's audience value. "),n("strong",[t._v("This route should be private")]),t._v(". ")])}],Pt=n("1da1"),Mt=(n("96cf"),n("d3b7"),n("99af"),n("8160")),St={name:"Api",data:function(){return{apiMessage:null}},methods:{callApiEndpoint:function(){var t=this;return Object(Pt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Mt["d"],"/api/messages/public-message"));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t.apiMessage=a.message,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.apiMessage="Error: the server responded with '".concat(e.t0.response.status,": ").concat(e.t0.response.statusText,"'");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},callApiSecuredEndpoint:function(){var t=this;return Object(Pt["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.getTokenSilently();case 2:return n=e.sent,e.prev=3,e.next=6,fetch("".concat(Mt["d"],"/api/messages/protected-message"),{headers:{Authorization:"Bearer ".concat(n)}});case 6:return a=e.sent,e.next=9,a.json();case 9:r=e.sent,t.apiMessage=r.message,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](3),console.log(e.t0),t.apiMessage="Error: the server responded with '".concat(e.t0.response.status,": ").concat(e.t0.response.statusText,"'");case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))()}}},It=St,Bt=Object(h["a"])(It,Rt,Lt,!1,null,null,null),Nt=Bt.exports,Ut=n("5530"),Tt=n("15fd"),Ht=(n("caad"),n("2532"),n("841c"),n("ac1f"),n("9767")),Dt=function(){return a},Jt=function(t){var e=t.onRedirectCallback,n=void 0===e?function(){return window.history.replaceState({},document.title,window.location.pathname)}:e,i=t.redirectUri,s=void 0===i?window.location.origin:i,o=Object(Tt["a"])(t,["onRedirectCallback","redirectUri"]);return a||(a=new r["a"]({data:function(){return{auth0Client:null,isLoading:!0,isAuthenticated:!1,user:{},error:null}},methods:{handleRedirectCallback:function(){var t=this;return Object(Pt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.auth0Client.handleRedirectCallback();case 4:return e.next=6,t.auth0Client.getUser();case 6:t.user=e.sent,t.isAuthenticated=!0,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.error=e.t0;case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()},loginWithRedirect:function(t){return this.auth0Client.loginWithRedirect(t)},logout:function(t){return this.auth0Client.logout(t)},getTokenSilently:function(t){return this.auth0Client.getTokenSilently(t)}},created:function(){var t=this;return Object(Pt["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ht["a"])(Object(Ut["a"])(Object(Ut["a"])({},o),{},{domain:o.domain,client_id:o.clientId,audience:o.audience,redirect_uri:s}));case 2:if(t.auth0Client=e.sent,e.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.auth0Client.handleRedirectCallback();case 7:a=e.sent,r=a.appState,n(r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),t.error=e.t0;case 15:return e.prev=15,e.next=18,t.auth0Client.isAuthenticated();case 18:return t.isAuthenticated=e.sent,e.next=21,t.auth0Client.getUser();case 21:return t.user=e.sent,t.isLoading=!1,e.finish(15);case 24:case"end":return e.stop()}}),e,null,[[3,12,15,24]])})))()}}),a)},Wt={install:function(t,e){t.prototype.$auth=Jt(e)}},qt=function(t,e,n){var a=Dt(),r=function(){if(a.isAuthenticated)return n();a.loginWithRedirect({appState:{targetUrl:t.fullPath}})};if(!a.isLoading)return r();a.$watch("isLoading",(function(t){if(!1===t)return r()}))};r["a"].use(st["a"]);var Ft=new st["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ot},{path:"/profile",name:"profile",component:Et,beforeEnter:qt},{path:"/external-api",name:"external-api",component:Nt,beforeEnter:qt}]}),Yt=Ft;n("034b");r["a"].use(Wt,{domain:Mt["c"],clientId:Mt["b"],audience:Mt["a"],onRedirectCallback:function(t){Yt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),r["a"].config.productionTip=!1,new r["a"]({router:Yt,render:function(t){return t(it)}}).$mount("#app")},8160:function(t){t.exports=JSON.parse('{"c":"YOUR_AUTH0_DOMAIN","b":"YOUR_AUTH0_CLIENT_ID","a":"https://express.sample","d":"http://localhost:6060"}')}});
//# sourceMappingURL=app.3c38839b.js.map